name: dan.sbs Website CI

on:
    push:
        branches: [ $default-branch ]
    pull_request:
        branches: [ $default-branch ]

jobs:
    build:
        runs-on: ubuntu-latest
        name: Build and Push
    steps:
        - name: git-checkout
        uses: actions/checkout@v2

        - name: Install all dependencies
        run: npm install

        - name: Build
        run: ./build.sh


        - name: Deploy 
        uses: JamesIves/github-pages-deploy-action@3.5.2
        with:
            GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
            BRANCH: deployment
            FOLDER: dist
